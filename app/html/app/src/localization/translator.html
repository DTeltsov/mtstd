<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>app.src.localization.translator API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>app.src.localization.translator</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import typing
from pathlib import Path

from PyQt5.QtCore import pyqtProperty, pyqtSignal, pyqtSlot, QTranslator, \
    QAbstractListModel, Qt, QModelIndex, QVariant, QSettings, QCoreApplication
from PyQt5.QtWidgets import QApplication

from app.logger import logger
from .trtext import TrText, emitter, current_lang_info_holder

languages = {
    &#39;en&#39;: &#39;English&#39;,
    &#39;uk&#39;: &#39;Українська&#39;,
}

FOLDER = &#34;translates&#34;


class ListModelLanguages(QAbstractListModel):
    code = Qt.UserRole + 1
    label = Qt.UserRole + 2
    modelData = Qt.UserRole + 3

    def __init__(self):
        super(ListModelLanguages, self).__init__()
        self.languages = languages
        self._data = list(self.languages.items())

    def __getitem__(self, index: int):
        try:
            return self._data[index]
        except IndexError:
            return None

    def roleNames(self) -&gt; typing.Dict[int, bytes]:
        return {
            self.code: b&#34;code&#34;,
            self.label: b&#34;label&#34;,
            self.modelData: b&#34;modelData&#34;,
        }

    def rowCount(self, parent: QModelIndex = ...) -&gt; int:
        return len(self._data)

    def data(self, index: QModelIndex, role: int = ...) -&gt; typing.Any:
        data = self[index.row()]
        if not data:
            return QVariant()

        if role == self.code:
            return data[0]
        if role == self.label:
            return data[1]
        if role == self.modelData:
            return data[1]
        return data


class Translator(QTranslator):
    TRANSLATION_KEY = &#34;application_language&#34;
    QRC_TEMPLATE_PATH = f&#34;:/{FOLDER}/&#34; + &#34;{}.qm&#34;

    langs: ListModelLanguages
    lang: str
    label: str

    def __init__(self):
        super(Translator, self).__init__()
        self.counter = 0
        self._lang = &#39;&#39;
        self._label = &#39;&#39;
        self._langs = ListModelLanguages()
        QApplication.instance().installTranslator(self)
        self.signalChangeLang.connect(lambda: emitter.signalReTranslateLangParam.emit(self.lang))
        self.signalChangeLang.connect(emitter.signalReTranslate)

    @pyqtProperty(QAbstractListModel, constant=True)
    def langs(self):
        return self._langs

    signalChangeLang = pyqtSignal()

    @pyqtProperty(str, notify=signalChangeLang)
    def lang(self):
        return self._lang

    @pyqtProperty(str, notify=signalChangeLang)
    def label(self):
        return self._label or r&#39;¯\_(ツ)_/¯&#39;

    @pyqtSlot(name=&#39;installTr&#39;)
    @pyqtSlot(str, name=&#39;installTr&#39;)
    def install_tr(self, lang: str = None):
        q_settings = QSettings()
        self.counter += 1
        if isinstance(lang, str):
            lang = lang.lower()
        if not lang or lang not in self.langs.languages:
            lang = q_settings.value(self.TRANSLATION_KEY, defaultValue=&#39;en&#39;)
        lang_label = self.langs.languages.get(lang, &#34;&#34;)
        logger.info(f&#34;Selected translation language: {lang} ({lang_label}), {self.counter}&#34;)
        if self.QRC_TEMPLATE_PATH:
            path = self.QRC_TEMPLATE_PATH.format(lang)
        else:
            path = Path(__file__).parent / FOLDER / f&#39;{lang}.qm&#39;

        loaded = self.load(str(path))
        if not loaded:
            logger.error(f&#34;Translation fails for language: {lang}&#34;)
        else:
            q_settings.setValue(self.TRANSLATION_KEY, lang)
            q_settings.sync()

        self._lang = lang
        self._label = lang_label
        current_lang_info_holder.memorize_lang(lang)
        self.signalChangeLang.emit()

    @pyqtSlot(str, list, result=str, name=&#39;pyFormat&#39;)
    def py_format(self, source: str, args: list):
        return source.format(*args)

    @pyqtSlot(&#34;QVariantMap&#34;, name=&#34;createTranslation&#34;, result=TrText)
    def create_translation(self, kwargs: dict):
        return TrText(**kwargs, memorize=True)


def translate(context, text, *args):
    translation = QCoreApplication.translate(context, text, *args)
    return translation</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="app.src.localization.translator.translate"><code class="name flex">
<span>def <span class="ident">translate</span></span>(<span>context, text, *args)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def translate(context, text, *args):
    translation = QCoreApplication.translate(context, text, *args)
    return translation</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="app.src.localization.translator.ListModelLanguages"><code class="flex name class">
<span>class <span class="ident">ListModelLanguages</span></span>
</code></dt>
<dd>
<div class="desc"><p>QAbstractListModel(parent: typing.Optional[QObject] = None)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ListModelLanguages(QAbstractListModel):
    code = Qt.UserRole + 1
    label = Qt.UserRole + 2
    modelData = Qt.UserRole + 3

    def __init__(self):
        super(ListModelLanguages, self).__init__()
        self.languages = languages
        self._data = list(self.languages.items())

    def __getitem__(self, index: int):
        try:
            return self._data[index]
        except IndexError:
            return None

    def roleNames(self) -&gt; typing.Dict[int, bytes]:
        return {
            self.code: b&#34;code&#34;,
            self.label: b&#34;label&#34;,
            self.modelData: b&#34;modelData&#34;,
        }

    def rowCount(self, parent: QModelIndex = ...) -&gt; int:
        return len(self._data)

    def data(self, index: QModelIndex, role: int = ...) -&gt; typing.Any:
        data = self[index.row()]
        if not data:
            return QVariant()

        if role == self.code:
            return data[0]
        if role == self.label:
            return data[1]
        if role == self.modelData:
            return data[1]
        return data</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PyQt5.QtCore.QAbstractListModel</li>
<li>PyQt5.QtCore.QAbstractItemModel</li>
<li>PyQt5.QtCore.QObject</li>
<li>sip.wrapper</li>
<li>sip.simplewrapper</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="app.src.localization.translator.ListModelLanguages.code"><code class="name">var <span class="ident">code</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="app.src.localization.translator.ListModelLanguages.label"><code class="name">var <span class="ident">label</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="app.src.localization.translator.ListModelLanguages.modelData"><code class="name">var <span class="ident">modelData</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="app.src.localization.translator.ListModelLanguages.data"><code class="name flex">
<span>def <span class="ident">data</span></span>(<span>self, index: PyQt5.QtCore.QModelIndex, role: int = Ellipsis) ‑> Any</span>
</code></dt>
<dd>
<div class="desc"><p>data(self, index: QModelIndex, role: int = Qt.ItemDataRole.DisplayRole) -&gt; Any</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def data(self, index: QModelIndex, role: int = ...) -&gt; typing.Any:
    data = self[index.row()]
    if not data:
        return QVariant()

    if role == self.code:
        return data[0]
    if role == self.label:
        return data[1]
    if role == self.modelData:
        return data[1]
    return data</code></pre>
</details>
</dd>
<dt id="app.src.localization.translator.ListModelLanguages.roleNames"><code class="name flex">
<span>def <span class="ident">roleNames</span></span>(<span>self) ‑> Dict[int, bytes]</span>
</code></dt>
<dd>
<div class="desc"><p>roleNames(self) -&gt; Dict[int, QByteArray]</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def roleNames(self) -&gt; typing.Dict[int, bytes]:
    return {
        self.code: b&#34;code&#34;,
        self.label: b&#34;label&#34;,
        self.modelData: b&#34;modelData&#34;,
    }</code></pre>
</details>
</dd>
<dt id="app.src.localization.translator.ListModelLanguages.rowCount"><code class="name flex">
<span>def <span class="ident">rowCount</span></span>(<span>self, parent: PyQt5.QtCore.QModelIndex = Ellipsis) ‑> int</span>
</code></dt>
<dd>
<div class="desc"><p>rowCount(self, parent: QModelIndex = QModelIndex()) -&gt; int</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def rowCount(self, parent: QModelIndex = ...) -&gt; int:
    return len(self._data)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="app.src.localization.translator.Translator"><code class="flex name class">
<span>class <span class="ident">Translator</span></span>
</code></dt>
<dd>
<div class="desc"><p>QTranslator(parent: typing.Optional[QObject] = None)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Translator(QTranslator):
    TRANSLATION_KEY = &#34;application_language&#34;
    QRC_TEMPLATE_PATH = f&#34;:/{FOLDER}/&#34; + &#34;{}.qm&#34;

    langs: ListModelLanguages
    lang: str
    label: str

    def __init__(self):
        super(Translator, self).__init__()
        self.counter = 0
        self._lang = &#39;&#39;
        self._label = &#39;&#39;
        self._langs = ListModelLanguages()
        QApplication.instance().installTranslator(self)
        self.signalChangeLang.connect(lambda: emitter.signalReTranslateLangParam.emit(self.lang))
        self.signalChangeLang.connect(emitter.signalReTranslate)

    @pyqtProperty(QAbstractListModel, constant=True)
    def langs(self):
        return self._langs

    signalChangeLang = pyqtSignal()

    @pyqtProperty(str, notify=signalChangeLang)
    def lang(self):
        return self._lang

    @pyqtProperty(str, notify=signalChangeLang)
    def label(self):
        return self._label or r&#39;¯\_(ツ)_/¯&#39;

    @pyqtSlot(name=&#39;installTr&#39;)
    @pyqtSlot(str, name=&#39;installTr&#39;)
    def install_tr(self, lang: str = None):
        q_settings = QSettings()
        self.counter += 1
        if isinstance(lang, str):
            lang = lang.lower()
        if not lang or lang not in self.langs.languages:
            lang = q_settings.value(self.TRANSLATION_KEY, defaultValue=&#39;en&#39;)
        lang_label = self.langs.languages.get(lang, &#34;&#34;)
        logger.info(f&#34;Selected translation language: {lang} ({lang_label}), {self.counter}&#34;)
        if self.QRC_TEMPLATE_PATH:
            path = self.QRC_TEMPLATE_PATH.format(lang)
        else:
            path = Path(__file__).parent / FOLDER / f&#39;{lang}.qm&#39;

        loaded = self.load(str(path))
        if not loaded:
            logger.error(f&#34;Translation fails for language: {lang}&#34;)
        else:
            q_settings.setValue(self.TRANSLATION_KEY, lang)
            q_settings.sync()

        self._lang = lang
        self._label = lang_label
        current_lang_info_holder.memorize_lang(lang)
        self.signalChangeLang.emit()

    @pyqtSlot(str, list, result=str, name=&#39;pyFormat&#39;)
    def py_format(self, source: str, args: list):
        return source.format(*args)

    @pyqtSlot(&#34;QVariantMap&#34;, name=&#34;createTranslation&#34;, result=TrText)
    def create_translation(self, kwargs: dict):
        return TrText(**kwargs, memorize=True)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PyQt5.QtCore.QTranslator</li>
<li>PyQt5.QtCore.QObject</li>
<li>sip.wrapper</li>
<li>sip.simplewrapper</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="app.src.localization.translator.Translator.QRC_TEMPLATE_PATH"><code class="name">var <span class="ident">QRC_TEMPLATE_PATH</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="app.src.localization.translator.Translator.TRANSLATION_KEY"><code class="name">var <span class="ident">TRANSLATION_KEY</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Instance variables</h3>
<dl>
<dt id="app.src.localization.translator.Translator.label"><code class="name">var <span class="ident">label</span> : str</code></dt>
<dd>
<div class="desc"><p>pyqtProperty(type, fget=None, fset=None, freset=None, fdel=None, doc=None,
designable=True, scriptable=True, stored=True, user=False,
constant=False, final=False, notify=None,
revision=0) -&gt; property attribute</p>
<p>type is the type of the property.
It is either a type object or a string
that is the name of a C++ type.
freset is a function for resetting an attribute to its default value.
designable sets the DESIGNABLE flag (the default is True for writable
properties and False otherwise).
scriptable sets the SCRIPTABLE flag.
stored sets the STORED flag.
user sets the USER flag.
constant sets the CONSTANT flag.
final sets the FINAL flag.
notify is the NOTIFY signal.
revision is the REVISION.
The other parameters are the same as those required by the standard Python
property type.
Properties defined using pyqtProperty behave as both Python
and Qt properties.
Decorators can be used to define new properties or to modify existing ones.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pyqtProperty(str, notify=signalChangeLang)
def label(self):
    return self._label or r&#39;¯\_(ツ)_/¯&#39;</code></pre>
</details>
</dd>
<dt id="app.src.localization.translator.Translator.lang"><code class="name">var <span class="ident">lang</span> : str</code></dt>
<dd>
<div class="desc"><p>pyqtProperty(type, fget=None, fset=None, freset=None, fdel=None, doc=None,
designable=True, scriptable=True, stored=True, user=False,
constant=False, final=False, notify=None,
revision=0) -&gt; property attribute</p>
<p>type is the type of the property.
It is either a type object or a string
that is the name of a C++ type.
freset is a function for resetting an attribute to its default value.
designable sets the DESIGNABLE flag (the default is True for writable
properties and False otherwise).
scriptable sets the SCRIPTABLE flag.
stored sets the STORED flag.
user sets the USER flag.
constant sets the CONSTANT flag.
final sets the FINAL flag.
notify is the NOTIFY signal.
revision is the REVISION.
The other parameters are the same as those required by the standard Python
property type.
Properties defined using pyqtProperty behave as both Python
and Qt properties.
Decorators can be used to define new properties or to modify existing ones.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pyqtProperty(str, notify=signalChangeLang)
def lang(self):
    return self._lang</code></pre>
</details>
</dd>
<dt id="app.src.localization.translator.Translator.langs"><code class="name">var <span class="ident">langs</span> : <a title="app.src.localization.translator.ListModelLanguages" href="#app.src.localization.translator.ListModelLanguages">ListModelLanguages</a></code></dt>
<dd>
<div class="desc"><p>pyqtProperty(type, fget=None, fset=None, freset=None, fdel=None, doc=None,
designable=True, scriptable=True, stored=True, user=False,
constant=False, final=False, notify=None,
revision=0) -&gt; property attribute</p>
<p>type is the type of the property.
It is either a type object or a string
that is the name of a C++ type.
freset is a function for resetting an attribute to its default value.
designable sets the DESIGNABLE flag (the default is True for writable
properties and False otherwise).
scriptable sets the SCRIPTABLE flag.
stored sets the STORED flag.
user sets the USER flag.
constant sets the CONSTANT flag.
final sets the FINAL flag.
notify is the NOTIFY signal.
revision is the REVISION.
The other parameters are the same as those required by the standard Python
property type.
Properties defined using pyqtProperty behave as both Python
and Qt properties.
Decorators can be used to define new properties or to modify existing ones.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pyqtProperty(QAbstractListModel, constant=True)
def langs(self):
    return self._langs</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="app.src.localization.translator.Translator.create_translation"><code class="name flex">
<span>def <span class="ident">create_translation</span></span>(<span>self, kwargs: dict)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pyqtSlot(&#34;QVariantMap&#34;, name=&#34;createTranslation&#34;, result=TrText)
def create_translation(self, kwargs: dict):
    return TrText(**kwargs, memorize=True)</code></pre>
</details>
</dd>
<dt id="app.src.localization.translator.Translator.install_tr"><code class="name flex">
<span>def <span class="ident">install_tr</span></span>(<span>self, lang: str = None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pyqtSlot(name=&#39;installTr&#39;)
@pyqtSlot(str, name=&#39;installTr&#39;)
def install_tr(self, lang: str = None):
    q_settings = QSettings()
    self.counter += 1
    if isinstance(lang, str):
        lang = lang.lower()
    if not lang or lang not in self.langs.languages:
        lang = q_settings.value(self.TRANSLATION_KEY, defaultValue=&#39;en&#39;)
    lang_label = self.langs.languages.get(lang, &#34;&#34;)
    logger.info(f&#34;Selected translation language: {lang} ({lang_label}), {self.counter}&#34;)
    if self.QRC_TEMPLATE_PATH:
        path = self.QRC_TEMPLATE_PATH.format(lang)
    else:
        path = Path(__file__).parent / FOLDER / f&#39;{lang}.qm&#39;

    loaded = self.load(str(path))
    if not loaded:
        logger.error(f&#34;Translation fails for language: {lang}&#34;)
    else:
        q_settings.setValue(self.TRANSLATION_KEY, lang)
        q_settings.sync()

    self._lang = lang
    self._label = lang_label
    current_lang_info_holder.memorize_lang(lang)
    self.signalChangeLang.emit()</code></pre>
</details>
</dd>
<dt id="app.src.localization.translator.Translator.py_format"><code class="name flex">
<span>def <span class="ident">py_format</span></span>(<span>self, source: str, args: list)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pyqtSlot(str, list, result=str, name=&#39;pyFormat&#39;)
def py_format(self, source: str, args: list):
    return source.format(*args)</code></pre>
</details>
</dd>
<dt id="app.src.localization.translator.Translator.signalChangeLang"><code class="name flex">
<span>def <span class="ident">signalChangeLang</span></span>(<span>...)</span>
</code></dt>
<dd>
<div class="desc"><p>pyqtSignal(*types, name: str = &hellip;, revision: int = &hellip;, arguments: Sequence = &hellip;) -&gt; PYQT_SIGNAL</p>
<p>types is normally a sequence of individual types.
Each type is either a
type object or a string that is the name of a C++ type.
Alternatively
each type could itself be a sequence of types each describing a different
overloaded signal.
name is the optional C++ name of the signal.
If it is not specified then
the name of the class attribute that is bound to the signal is used.
revision is the optional revision of the signal that is exported to QML.
If it is not specified then 0 is used.
arguments is the optional sequence of the names of the signal's arguments.</p></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="app.src.localization" href="index.html">app.src.localization</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="app.src.localization.translator.translate" href="#app.src.localization.translator.translate">translate</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="app.src.localization.translator.ListModelLanguages" href="#app.src.localization.translator.ListModelLanguages">ListModelLanguages</a></code></h4>
<ul class="two-column">
<li><code><a title="app.src.localization.translator.ListModelLanguages.code" href="#app.src.localization.translator.ListModelLanguages.code">code</a></code></li>
<li><code><a title="app.src.localization.translator.ListModelLanguages.data" href="#app.src.localization.translator.ListModelLanguages.data">data</a></code></li>
<li><code><a title="app.src.localization.translator.ListModelLanguages.label" href="#app.src.localization.translator.ListModelLanguages.label">label</a></code></li>
<li><code><a title="app.src.localization.translator.ListModelLanguages.modelData" href="#app.src.localization.translator.ListModelLanguages.modelData">modelData</a></code></li>
<li><code><a title="app.src.localization.translator.ListModelLanguages.roleNames" href="#app.src.localization.translator.ListModelLanguages.roleNames">roleNames</a></code></li>
<li><code><a title="app.src.localization.translator.ListModelLanguages.rowCount" href="#app.src.localization.translator.ListModelLanguages.rowCount">rowCount</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="app.src.localization.translator.Translator" href="#app.src.localization.translator.Translator">Translator</a></code></h4>
<ul class="two-column">
<li><code><a title="app.src.localization.translator.Translator.QRC_TEMPLATE_PATH" href="#app.src.localization.translator.Translator.QRC_TEMPLATE_PATH">QRC_TEMPLATE_PATH</a></code></li>
<li><code><a title="app.src.localization.translator.Translator.TRANSLATION_KEY" href="#app.src.localization.translator.Translator.TRANSLATION_KEY">TRANSLATION_KEY</a></code></li>
<li><code><a title="app.src.localization.translator.Translator.create_translation" href="#app.src.localization.translator.Translator.create_translation">create_translation</a></code></li>
<li><code><a title="app.src.localization.translator.Translator.install_tr" href="#app.src.localization.translator.Translator.install_tr">install_tr</a></code></li>
<li><code><a title="app.src.localization.translator.Translator.label" href="#app.src.localization.translator.Translator.label">label</a></code></li>
<li><code><a title="app.src.localization.translator.Translator.lang" href="#app.src.localization.translator.Translator.lang">lang</a></code></li>
<li><code><a title="app.src.localization.translator.Translator.langs" href="#app.src.localization.translator.Translator.langs">langs</a></code></li>
<li><code><a title="app.src.localization.translator.Translator.py_format" href="#app.src.localization.translator.Translator.py_format">py_format</a></code></li>
<li><code><a title="app.src.localization.translator.Translator.signalChangeLang" href="#app.src.localization.translator.Translator.signalChangeLang">signalChangeLang</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>